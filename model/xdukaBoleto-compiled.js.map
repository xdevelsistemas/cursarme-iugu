{"version":3,"sources":["xdukaBoleto.js"],"names":[],"mappings":"AAAA,YAAY;;AAAC;AAEb,MAAM,MAAM,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAC1C,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC/B,IAAI,MAAM,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;AACtC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;;AAGhC,IAAI,QAAQ,GAAG;AACX,aAAS,EAAG,EAAC,KAAK,EAAG,kBAAkB,EAAE,GAAG,EAAE,kCAAkC,EAAC;AACjF,cAAU,EAAG,EAAC,KAAK,EAAG,yBAAyB,EAAE,GAAG,EAAE,kCAAkC,EAAC;CAC5F,CAAC;;AAGF,IAAI,WAAW,GAAG,CAAC,KAAK,EAAC,IAAI,EAAC,YAAY,KACtC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CACZ,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,EAAE,CAC1B,KAAK,CAAC,CAAC;;;;;;;;kEAQ0C,CAAC,CAAC,MAAM,CAAC,KAAK,EAAC,IAAI,EAAC,YAAY,CAAC,CAAC,CAAC,CACxF,KAAK,CAAC,AAAC,GAAG,IAAK,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;;AAG9C,IAAI,aAAa,GAAG,CAAC,KAAK,EAAC,IAAI,KAC3B,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAChB,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,6QAA6Q,CAAC,MAAM,CAAC,KAAK,EAAC,IAAI,CAAC,CAAC,CAAC,CACvU,KAAK,CAAC,AAAC,GAAG,IAAK,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;;AAK1C,MAAM,CAAC,OAAO,GAAG;AACb,YAAQ,EAAG,QAAQ;AACnB,eAAW,EAAE,WAAW;CAC3B,CAAC","file":"xdukaBoleto-compiled.js","sourcesContent":["'use strict';\n//https://github.com/patriksimek/node-mssql#promise\nconst config = require('../config/mssql');\nconst mssql = require('mssql');\nlet format = require('string-format');\nformat.extend(String.prototype);\n\n\nlet unidades = {\n    cariacica : {query : 'CodUnidade = 215', key: '82517338f2a7046de5a79f4f01a5a290'},\n    sao_mateus : {query : 'CodUnidade in (217,221)', key: 'ccce2adc652947e86b5b0bd8f3fb8ee2'}\n};\n\n\nlet getInvoices = (month,year,unidadeQuery) =>\n    mssql.connect(config)\n            .then(() => new mssql.Request()\n                .query(`select *\n                        from xdevbi_financeiro where month(DataVencimento) = {}\n                        and  year(DataVencimento) = {}\n                        and Cancelada = 0\n                        and  PagoValor = 0\n                        and {}\n                        and ( (CodUnidade = 215 and CodCaixa in (2,3,6))\n                        or (CodUnidade = 217 and CodCaixa in (3))\n                        or (CodUnidade = 221 and CodCaixa in (2)))`.format(month,year,unidadeQuery)))\n            .catch((err) => console.log(err));\n\n\nlet setInvoiceUrl = (month,year) =>\n    mssql.connect(config)\n        .then(() => new mssql.Request().query(\"select * from xdevbi_financeiro where month(DataVencimento) = {} and  year(DataVencimento) = {} and Cancelada = 0 and  PagoValor = 0 and ( (CodUnidade = 215 and CodCaixa in (2,3,6)) or (CodUnidade = 217 and CodCaixa in (3)) or (CodUnidade = 221 and CodCaixa in (2)) )\".format(month,year)))\n        .catch((err) => console.log(err));\n\n\n\n\nmodule.exports = {\n    unidades : unidades,\n    getInvoices: getInvoices\n};\n"]}